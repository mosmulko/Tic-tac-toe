(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{35:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(15),a=n.n(s),i=n(4),d=n(18),j=n(3),l=(n(35),n(1));var o=function(e){var t=e.click,n=e.message,c=e.className,r=e.type;return Object(l.jsx)("button",{className:c,type:r,onClick:t,children:n})};var u=function(){return Object(l.jsxs)("div",{id:"home-wrapper",className:"flex center column",children:[Object(l.jsx)("h1",{children:"Welcome to Tic Tac Toe game for two!"}),Object(l.jsx)("h3",{children:"Rules"}),Object(l.jsxs)("ol",{children:[Object(l.jsx)("li",{children:"Choose your names to see your greatest victory on the Leaderboard"}),Object(l.jsx)("li",{children:"X always start"}),Object(l.jsx)("li",{children:"Each player has 30 seconds to make his move"}),Object(l.jsx)("li",{children:"Have fun!"})]}),Object(l.jsx)("a",{href:"/game",children:Object(l.jsx)(o,{message:"Create Players",className:"game"})})]})},b=n(10),h=n(11),O=Object(h.b)({name:"status",initialState:"new",reducers:{statusChanged:function(e,t){return t.payload}}}),x=O.actions.statusChanged,m=function(e){return e.status},f=O.reducer,v={x:{id:"x",name:"",moves:0,seconds:0},o:{id:"o",name:"",moves:0,seconds:0}},p=Object(h.b)({name:"players",initialState:v,reducers:{newGameStarted:function(e){return v},namesChosen:function(e,t){return t.payload&&(e.x.name=t.payload.x,e.o.name=t.payload.o),e},playerTurnEnded:function(e,t){var n=t.payload,c=n.id,r=n.seconds,s=e[c];return s.moves+=1,s.seconds+=r,e}}}),y=p.actions,g=y.newGameStarted,w=y.namesChosen,N=y.playerTurnEnded,S=function(e){var t=e.players,n=t.x,c=t.o;return n.moves===c.moves?n:c},C=function(e){return[e.players.x.name,e.players.o.name]},k=p.reducer;n(37);var T=function(e){var t=e.id;return Object(l.jsx)("div",{className:"label "+t})};var E=function(e){var t=e.submit,n=Object(i.c)(C),r=Object(b.a)(n,2),s=r[0],a=r[1],d=Object(c.useState)(s),j=Object(b.a)(d,2),u=j[0],h=j[1],O=Object(c.useState)(a),x=Object(b.a)(O,2),m=x[0],f=x[1],v=function(e){var t=e.target,n=e.target.value;"x"===t.name?h(n):f(n)};return Object(l.jsxs)("div",{id:"form-wrapper",children:[Object(l.jsx)("h3",{className:"title",children:"Choose your players"}),Object(l.jsxs)("form",{className:"flex column",onSubmit:function(e){return e.preventDefault(),t("new",[u,m]),h(s),void f(a)},children:[Object(l.jsxs)("div",{className:"input flex",children:[Object(l.jsx)(T,{id:"x"}),Object(l.jsx)("input",{name:"x",type:"text",placeholder:"Player X name",value:u,onChange:v})]}),Object(l.jsxs)("div",{className:"input flex",children:[Object(l.jsx)(T,{id:"o"}),Object(l.jsx)("input",{name:"o",type:"text",placeholder:"Player O name",value:m,onChange:v})]}),Object(l.jsx)(o,{message:"Start",className:"game",type:"submit"})]})]})},P=function(e,t){return Array.from({length:t-e+1},(function(t,n){return e+n}))},A=function(e,t){if(0===e.length)return!1;for(var n=new Map,c=e.indexOf(t);-1!==c;)n.set(c+1,!0),c=e.indexOf(t,c+1);return!!(n.has(1)&&n.has(2)&&n.has(3)||n.has(4)&&n.has(5)&&n.has(6)||n.has(7)&&n.has(8)&&n.has(9)||n.has(1)&&n.has(4)&&n.has(7)||n.has(2)&&n.has(5)&&n.has(8)||n.has(3)&&n.has(6)&&n.has(9)||n.has(1)&&n.has(5)&&n.has(9)||n.has(3)&&n.has(5)&&n.has(7))},G=function(e,t){if(e.seconds<t.seconds)return-1;if(e.seconds>t.seconds)return 1;if(e.seconds===t.seconds){if(e.moves<t.moves)return-1;if(e.moves>t.moves)return 1}return 0},L=Object(h.b)({name:"scores",initialState:{lastWinner:null,leaderboard:[]},reducers:{scoreAdded:function(e,t){var n=t.payload;e.leaderboard.push(n),e.leaderboard.sort(G);var c=e.leaderboard.findIndex((function(e){for(var t in e)if(e[t]!==n[t])return!1;return!0}));return n.place=c+1,e.lastWinner=n,e}}}),W=L.actions.scoreAdded,B=function(e){return e.scores.leaderboard},I=function(e){return e.scores.lastWinner},M=L.reducer;n(38);var J=function(e){var t=e.set,n=e.reset,r=e.seconds;return Object(c.useEffect)((function(){if(r>0){var e=setTimeout((function(){t()}),1e3);return function(){return clearTimeout(e)}}n()}),[t,n,r]),Object(l.jsx)("div",{id:"timer",children:r})},R=n(26);var X=function(e){var t=e.click,n=e.status,c=e.num,r="field f-".concat(c);return Object(l.jsx)("div",{onClick:t,className:r,children:Object(l.jsx)(T,{id:n})})};var Y=function(e){var t=e.player,n=e.nextTurn,r=e.win,s=e.draw,a=Object(c.useState)(Array(9).fill("")),i=Object(b.a)(a,2),d=i[0],j=i[1];return Object(l.jsx)("div",{id:"board",children:P(1,9).map((function(e){return Object(l.jsx)(X,{click:function(){return function(e,t){var c=e-1;if(""===d[c]){var a=Object(R.a)(d);if(a[c]=t,A(a,t))return r();if(-1===a.indexOf(""))return s();j(a),n()}}(e,t)},num:e,status:d[e-1]},e)}))})};var D=function(){var e=Object(i.c)(S),t=Object(i.b)(),n=Object(c.useState)(30),r=Object(b.a)(n,2),s=r[0],a=r[1],d=30-s,j=function(){t(N({id:e.id,seconds:d})),a(30)};return Object(l.jsxs)("div",{id:"game-wrapper",children:[e.name?Object(l.jsx)("h3",{children:e.name}):null,Object(l.jsx)("div",{id:"turn-label",children:Object(l.jsx)(T,{id:e.id})}),Object(l.jsx)(J,{set:function(){a(s-1)},reset:j,seconds:s}),Object(l.jsx)(Y,{player:e.id,nextTurn:j,win:function(){var n={name:e.name,seconds:d+e.seconds,moves:e.moves+1};t(W(n)),t(x("won"))},draw:function(){t(x("draw"))}})]})};var H=function(){var e=Object(i.c)(I);return Object(l.jsxs)("div",{id:"win-wrapper",className:"flex center column",children:[Object(l.jsx)("h3",{className:"title",children:"You won"}),Object(l.jsx)("h2",{children:e.name}),Object(l.jsxs)("div",{id:"score-wrapper",children:[Object(l.jsx)("h3",{children:"Your score:"}),Object(l.jsxs)("ul",{children:[Object(l.jsxs)("li",{children:["Place: ",e.place]}),Object(l.jsxs)("li",{children:["Seconds: ",e.seconds,"s"]}),Object(l.jsxs)("li",{children:["Turns: ",e.moves]})]})]})]})};var q=function(){var e=Object(i.c)(m),t=Object(i.c)(C),n=Object(i.b)(),c=function(e,t){var c="playing"===e?"new":"playing",r=Object(b.a)(t,2),s=r[0],a=r[1];n(g()),n(w({x:s,o:a})),n(x(c))};return Object(l.jsxs)("div",{children:[{new:Object(l.jsx)(E,{submit:c}),playing:Object(l.jsx)(D,{}),won:Object(l.jsx)(H,{}),draw:Object(l.jsx)("h3",{id:"draw",className:"title",children:"It's a draw"})}[e],function(e,t){if("new"!==e){var n="playing"===e?"Reset":"Start";return Object(l.jsx)(o,{click:function(){return c(e,t)},message:n,className:"game"})}}(e,t)]})};n(39);var z=function(){var e=Object(i.c)(B);return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{className:"title",children:"Leaderboard"}),Object(l.jsxs)("table",{children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Place"}),Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Seconds"}),Object(l.jsx)("th",{children:"Turns"})]})}),Object(l.jsx)("tbody",{children:e.map((function(e,t){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t+1}),Object(l.jsx)("td",{children:e.name}),Object(l.jsx)("td",{children:e.seconds}),Object(l.jsx)("td",{children:e.moves})]},t)}))})]})]})};var F=function(){var e=function(){for(var e=document.getElementsByClassName("menu"),t=0;t<e.length;t++)e[t].classList.toggle("hidden")};return Object(l.jsx)(d.a,{children:Object(l.jsxs)("div",{className:"appGrid",children:[Object(l.jsx)("header",{className:"flex center",children:Object(l.jsx)("div",{id:"title",children:"Tic Tac Toe"})}),Object(l.jsx)("div",{id:"burger",onClick:e,children:Object(l.jsx)("span",{})}),Object(l.jsx)("nav",{className:"menu hidden flex center",children:Object(l.jsxs)("ul",{className:"menu hidden",children:[Object(l.jsx)("li",{onClick:e,children:Object(l.jsx)(d.b,{to:"/game",children:"Game"})}),Object(l.jsx)("li",{onClick:e,children:Object(l.jsx)(d.b,{to:"/leaderboard",children:"Leaderboard"})})]})}),Object(l.jsx)("main",{children:Object(l.jsxs)(j.c,{children:[Object(l.jsx)(j.a,{path:"/game",children:Object(l.jsx)(q,{})}),Object(l.jsx)(j.a,{path:"/leaderboard",children:Object(l.jsx)(z,{})}),Object(l.jsx)(j.a,{path:"/",children:Object(l.jsx)(u,{})})]})}),Object(l.jsx)("footer",{className:"flex",children:Object(l.jsx)("div",{children:"By Monika Smulko"})})]})})},K=Object(h.a)({reducer:{status:f,players:k,scores:M}});a.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(i.a,{store:K,children:Object(l.jsx)(F,{})})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.e1752402.chunk.js.map